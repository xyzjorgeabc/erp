<main> 
  <app-nav-bar [titulo]="'Edición de articulos'"
  (siguienteRegistro)="siguienteRegistro();"
  (anteriorRegistro)="anteriorRegistro();"
  (anadirRegistro)="anadirRegistro();"
  (eliminarRegistro)="eliminarRegistro();"
  ></app-nav-bar>
  <div id="form-container" class="container-fluid">
    <form class="row p-5" autocomplete="sdfsdfsdf" [formGroup]="form">
      <div class="col-md-6">
        <div class="form-row">
          <div class="col-8 col-sm-6 col-lg-4 col-xl-4">
            <label for="id-articulo">ID</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <button type="button" (click)="abrirModalArticulo();" class="btn btn-primary form-control">
                  <i class="fas fa-search"></i>
                </button>
              </div>
              <input id="id" tabindex="1" type="text" formControlName="id" class="form-control mb-3">
            </div>
          </div>
          <div class="col-lg">
            <label for="nombre-articulo">Nombre</label>
            <input id="nombre-articulo" tabindex="1" type="text" formControlName="nombre" class="form-control mb-3">
          </div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <label for="descripcion-articulo">Descripción</label>
            <input id="descripcion-articulo" tabindex="1" formControlName="descripcion" class="form-control mb-3">
          </div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <label for="id-categoria">Categoría</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <button type="button" (click)="abrirModalCategoria();" class="btn btn-primary form-control">
                  <i class="fas fa-search"></i>
                </button>
              </div>
              <input id="id-categoria" tabindex="1" type="text" formControlName="id_categoria" class="form-control col-8 col-sm-3 mb-3">
              <input id="categoria_nombre" type="text" formControlName="categoria_nombre" class="form-control col mb-3">
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-12">
            <label for="id-proveedor">Proveedor</label>
            <div class="input-group">
              <div class="input-group-prepend">
                <button type="button" (click)="abrirModalProveedor();" class="btn btn-primary form-control">
                  <i class="fas fa-search"></i>
                </button>
              </div>
              <input id="id-proveedor" tabindex="1" type="text" formControlName="id_proveedor" class="form-control col-8 col-sm-3 mb-3">
              <input id="nombre-proveedor" type="text" formControlName="proveedor_nombre" class="form-control col mb-3">
            </div>
          </div>
        </div>
        <div class="form-row">
          <div class="col-sm-6 col-lg-4">
            <label for="master">Unidad master</label>
            <input id="master" tabindex="1" type="text" formControlName="cantidad_master" class="form-control mb-3">
          </div>
          <div class="col-sm-6 col-lg-4">
            <label for="stock">Stock</label>
            <input id="stock" type="text" formControlName="stock" class="form-control mb-3">
          </div>
        </div>
      </div>
      <div class="col-md-6">
        <div class="form-row">
          <div class="col-sm-6 col-lg-4">
            <label for="iva">Tipo de IVA %</label>
            <input id="iva" tabindex="1" type="text" formControlName="iva" class="form-control mb-3">
          </div>
        </div>
        <div class="form-row">
          <div class="col-sm-6 col-lg-4">
            <label for="precio-coste-anterior">Precio coste anterior</label>
            <input id="precio-coste-anterior" type="text" formControlName="coste_anterior" class="form-control mb-3" >
          </div>
        </div>
        <div class="form-row">
          <div class="col-sm-6 col-lg-4">
            <label for="precio-coste">Precio coste</label>
            <input id="precio-coste" tabindex="1" type="text" formControlName="coste" class="form-control mb-3" >
          </div>
          <div class="col-sm-6 col-lg-4">
            <label for="precio-coste-mas-iva">Precio coste + IVA</label>
            <input id="precio-coste-mas-iva" type="text" formControlName="coste_mas_iva" class="form-control mb-3" >
          </div>
        </div>
        <div class="form-row">
          <div class="col-sm-6 col-lg-4">
            <label for="pvp-detalle">PVP detalle</label>
            <input id="pvp-detalle" tabindex="1" type="text" formControlName="pvp_detalle" class="form-control mb-3" >
          </div>
          <div class="col-sm-6 col-lg-4">
            <label for="margen-detalle">Margen detalle</label>
            <input id="margen-detalle" type="text" formControlName="margen_detalle" class="form-control mb-3" >
          </div>
        </div>
        <div class="form-row">
          <div class="col-sm-6 col-lg-4">
            <label for="pvp-mayor">PVP mayor</label>
            <input id="pvp-mayor" tabindex="1" type="text" formControlName="pvp_mayor" class="form-control mb-3" >
          </div>
          <div class="col-sm-6 col-lg-4">
            <label for="margen-mayor">Margen mayor</label>
            <input id="margen-mayor" type="text" formControlName="margen_mayor" class="form-control mb-3" >
          </div>
        </div>
      </div>
      <div class="col-lg-12 mt-5 d-flex justify-content-center">
        <button type="button" (click)="guardarRegistro();" class="btn btn-success mr-5">Guardar</button>
        <button type="button" (click)="deshacerCambios();" class="btn btn-danger" [disabled]="form.pristine">Deshacer</button>
      </div>
    </form>
    <div class="row px-0 py-0">
      <app-warning-panel [errors]="errors" class="col"></app-warning-panel>
    </div>
  </div>
  <ng-container #modal></ng-container>
</main>
